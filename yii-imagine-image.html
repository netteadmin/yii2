<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        
<link href="./assets/95ffbc2e/css/bootstrap.css" rel="stylesheet">
<link href="./assets/6ee26e89/solarized-light.css" rel="stylesheet">
<link href="./assets/da0a60fc/style.css" rel="stylesheet">
<script src="./assets/392f4030/jquery.js"></script>
<script src="./assets/95ffbc2e/js/bootstrap.js"></script>
<script src="./assets/c312f280/jssearch.js"></script>    <title>Image, yii\imagine\Image - Yii Framework 2.0 API Documentation</title>
</head>
<body>

<div class="wrap">
    <nav id="w16405" class="navbar-inverse navbar-fixed-top navbar"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w16405-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Yii Framework 2.0 API Documentation</a></div><div id="w16405-collapse" class="collapse navbar-collapse"><ul id="w16406" class="navbar-nav nav"><li><a href="./index.html">Class reference</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">Extensions <span class="caret"></span></a><ul id="w16407" class="dropdown-menu"><li><a href="./ext-apidoc-index.html" tabindex="-1">apidoc</a></li>
<li><a href="./ext-authclient-index.html" tabindex="-1">authclient</a></li>
<li><a href="./ext-bootstrap-index.html" tabindex="-1">bootstrap</a></li>
<li><a href="./ext-debug-index.html" tabindex="-1">debug</a></li>
<li><a href="./ext-elasticsearch-index.html" tabindex="-1">elasticsearch</a></li>
<li><a href="./ext-faker-index.html" tabindex="-1">faker</a></li>
<li><a href="./ext-gii-index.html" tabindex="-1">gii</a></li>
<li><a href="./ext-httpclient-index.html" tabindex="-1">httpclient</a></li>
<li><a href="./ext-imagine-index.html" tabindex="-1">imagine</a></li>
<li><a href="./ext-jui-index.html" tabindex="-1">jui</a></li>
<li><a href="./ext-mongodb-index.html" tabindex="-1">mongodb</a></li>
<li><a href="./ext-redis-index.html" tabindex="-1">redis</a></li>
<li><a href="./ext-shell-index.html" tabindex="-1">shell</a></li>
<li><a href="./ext-smarty-index.html" tabindex="-1">smarty</a></li>
<li><a href="./ext-sphinx-index.html" tabindex="-1">sphinx</a></li>
<li><a href="./ext-swiftmailer-index.html" tabindex="-1">swiftmailer</a></li>
<li><a href="./ext-twig-index.html" tabindex="-1">twig</a></li></ul></li>
<li><a href="./guide-README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-3">
                <div id="navigation" class="list-group"><a class="list-group-item active" href="#navigation-16404" data-toggle="collapse" data-parent="#navigation">yii\imagine <b class="caret"></b></a><div id="navigation-16404" class="submenu panel-collapse collapse in"><a class="list-group-item" href="./yii-imagine-baseimage.html">BaseImage</a>
<a class="list-group-item active" href="./yii-imagine-image.html">Image</a></div></div>    </div>
    <div class="col-md-9 api-content" role="main"><h1>Class yii\imagine\Image</h1>
<div class="top-nav">
    <a href="index">All Classes</a>
            | <a href="#properties">Properties</a>
                | <a href="#methods">Methods</a>
                    | <a href="#constants">Constants</a>
    </div>

<table class="summaryTable docClass table table-bordered">
    <colgroup>
        <col class="col-name" />
        <col class="col-value" />
    </colgroup>
            <tr><th>Inheritance</th><td><a href="yii-imagine-image.html">yii\imagine\Image</a> &raquo;
<a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td></tr>
                                        <tr><th>Available since version</th><td>2.0</td></tr>
                    <tr>
          <th>Source Code</th>
          <td><a href="https://github.com/yiisoft/yii2-imagine/blob/master/Image.php">https://github.com/yiisoft/yii2-imagine/blob/master/Image.php</a></td>
        </tr>
    </table>

<div class="class-description">
    <p><strong>Image implements most commonly used image manipulation functions using the <a href="https://imagine.readthedocs.org/">Imagine library</a>.</strong></p>
    <p>Example of use:</p>
<pre><code class="hljs php language-php"><span class="hljs-comment">// generate a thumbnail image</span>
Image::thumbnail(<span class="hljs-string">'@webroot/img/test-image.jpg'</span>, <span class="hljs-number">120</span>, <span class="hljs-number">120</span>)
    -&gt;save(Yii::getAlias(<span class="hljs-string">'@runtime/thumb-test-image.jpg'</span>), [<span class="hljs-string">'quality'</span> =&gt; <span class="hljs-number">50</span>]);
</code></pre>

    </div>



<a id="properties"></a>

<div class="doc-property summary toggle-target-container">
    <h2>Public Properties</h2>

    <p><a href="#" class="toggle">Hide inherited properties</a></p>

    <table class="summary-table table table-striped table-bordered table-hover">
        <colgroup>
            <col class="col-property" />
            <col class="col-type" />
            <col class="col-description" />
            <col class="col-defined" />
        </colgroup>
        <tr>
            <th>Property</th>
            <th>Type</th>
            <th>Description</th>
            <th>Defined By</th>
        </tr>

                                    <tr id="$driver" class="inherited">
                    <td><a href="yii-imagine-image.html#$driver-detail">$driver</a></td>
                    <td><a href="https://www.php.net/language.types.array">array</a>|<a href="https://www.php.net/language.types.string">string</a></td>
                    <td>The driver to use.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                <tr id="$thumbnailBackgroundAlpha" class="inherited">
                    <td><a href="yii-imagine-image.html#$thumbnailBackgroundAlpha-detail">$thumbnailBackgroundAlpha</a></td>
                    <td><a href="https://www.php.net/language.types.string">string</a></td>
                    <td>Background alpha (transparency) to use when creating thumbnails in <code>ImageInterface::THUMBNAIL_INSET</code> mode with both width and height specified.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                <tr id="$thumbnailBackgroundColor" class="inherited">
                    <td><a href="yii-imagine-image.html#$thumbnailBackgroundColor-detail">$thumbnailBackgroundColor</a></td>
                    <td><a href="https://www.php.net/language.types.string">string</a></td>
                    <td>Background color to use when creating thumbnails in <code>ImageInterface::THUMBNAIL_INSET</code> mode with both width and height specified.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                        </table>
</div>

<a id="methods"></a>

<div class="doc-method summary toggle-target-container">
    <h2>Public Methods</h2>

    <p><a href="#" class="toggle">Hide inherited methods</a></p>

    <table class="summary-table table table-striped table-bordered table-hover">
        <colgroup>
            <col class="col-method" />
            <col class="col-description" />
            <col class="col-defined" />
        </colgroup>
        <tr>
            <th>Method</th>
            <th>Description</th>
            <th>Defined By</th>
        </tr>

                                    <tr id="autorotate()" class="inherited">
                    <td><a href="yii-imagine-image.html#autorotate()-detail">autorotate()</a></td>
                    <td>Rotates an image automatically based on EXIF information.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                                    <tr id="crop()" class="inherited">
                    <td><a href="yii-imagine-image.html#crop()-detail">crop()</a></td>
                    <td>Crops an image.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                                    <tr id="frame()" class="inherited">
                    <td><a href="yii-imagine-image.html#frame()-detail">frame()</a></td>
                    <td>Adds a frame around of the image. Please note that the image size will increase by <code>$margin</code> x 2.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                <tr id="getBox()" class="inherited">
                    <td><a href="yii-imagine-image.html#getBox()-detail">getBox()</a></td>
                    <td>Returns box for an image to be created.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                <tr id="getImagine()" class="inherited">
                    <td><a href="yii-imagine-image.html#getImagine()-detail">getImagine()</a></td>
                    <td>Returns the <code>Imagine</code> object that supports various image manipulations.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                <tr id="getThumbnailBox()" class="inherited">
                    <td><a href="yii-imagine-image.html#getThumbnailBox()-detail">getThumbnailBox()</a></td>
                    <td>Returns box for a thumbnail to be created. If one of the dimensions is set to <code>null</code>, another one is calculated
automatically based on width to height ratio of original image box.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                <tr id="isUpscaling()" class="inherited">
                    <td><a href="yii-imagine-image.html#isUpscaling()-detail">isUpscaling()</a></td>
                    <td>Checks if upscaling is going to happen</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                <tr id="resize()" class="inherited">
                    <td><a href="yii-imagine-image.html#resize()-detail">resize()</a></td>
                    <td>Resizes an image.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                <tr id="setImagine()" class="inherited">
                    <td><a href="yii-imagine-image.html#setImagine()-detail">setImagine()</a></td>
                    <td></td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                <tr id="text()" class="inherited">
                    <td><a href="yii-imagine-image.html#text()-detail">text()</a></td>
                    <td>Draws a text string on an existing image.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                <tr id="thumbnail()" class="inherited">
                    <td><a href="yii-imagine-image.html#thumbnail()-detail">thumbnail()</a></td>
                    <td>Creates a thumbnail image.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                <tr id="watermark()" class="inherited">
                    <td><a href="yii-imagine-image.html#watermark()-detail">watermark()</a></td>
                    <td>Adds a watermark to an existing image.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                        </table>
</div>

<div class="doc-method summary toggle-target-container">
    <h2>Protected Methods</h2>

    <p><a href="#" class="toggle">Hide inherited methods</a></p>

    <table class="summary-table table table-striped table-bordered table-hover">
        <colgroup>
            <col class="col-method" />
            <col class="col-description" />
            <col class="col-defined" />
        </colgroup>
        <tr>
            <th>Method</th>
            <th>Description</th>
            <th>Defined By</th>
        </tr>

                                                        <tr id="createImagine()" class="inherited">
                    <td><a href="yii-imagine-image.html#createImagine()-detail">createImagine()</a></td>
                    <td>Creates an <code>Imagine</code> object based on the specified <a href="yii-imagine-baseimage.html#$driver-detail">$driver</a>.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                                    <tr id="ensureImageInterfaceInstance()" class="inherited">
                    <td><a href="yii-imagine-image.html#ensureImageInterfaceInstance()-detail">ensureImageInterfaceInstance()</a></td>
                    <td>Takes either file path or ImageInterface. In case of file path, creates an instance of ImageInterface from it.</td>
                    <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
                </tr>
                                                                                                                                                                                                                                </table>
</div>

<a id="events"></a>

<a id="constants"></a>

<div class="doc-const summary toggle-target-container">
    <h2>Constants</h2>

    <p><a href="#" class="toggle">Hide inherited constants</a></p>

    <table class="summary-table table table-striped table-bordered table-hover">
        <colgroup>
            <col class="col-const" />
            <col class="col-value" />
            <col class="col-description" />
            <col class="col-defined" />
        </colgroup>
        <tr>
            <th>Constant</th>
            <th>Value</th>
            <th>Description</th>
            <th>Defined By</th>
        </tr>

                    <tr id="DRIVER_GD2" class="inherited">
              <td id="DRIVER_GD2-detail">DRIVER_GD2</td>
              <td>'gd2'</td>
              <td>
                  GD2 driver definition for Imagine implementation using the GD library.
                                </td>
              <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
            </tr>
                    <tr id="DRIVER_GMAGICK" class="inherited">
              <td id="DRIVER_GMAGICK-detail">DRIVER_GMAGICK</td>
              <td>'gmagick'</td>
              <td>
                  Gmagick driver definition.
                                </td>
              <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
            </tr>
                    <tr id="DRIVER_IMAGICK" class="inherited">
              <td id="DRIVER_IMAGICK-detail">DRIVER_IMAGICK</td>
              <td>'imagick'</td>
              <td>
                  Imagick driver definition.
                                </td>
              <td><a href="yii-imagine-baseimage.html">yii\imagine\BaseImage</a></td>
            </tr>
            </table>
</div>


<h2>Method Details</h2>

<div class="method-doc toggle-target-container">
    <p><a href="#" class="toggle">Hide inherited methods</a></p>

            <div id="autorotate()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#autorotate()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L188" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L188" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                autorotate()

                <span class="detail-header-tag small">
                    public                                        static                    method
                    (available since version 2.1.0)                </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#autorotate()-detail">yii\imagine\BaseImage::autorotate()</a>                    </p>
                
                <p><strong>Rotates an image automatically based on EXIF information.</strong></p>
                                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">\Imagine\Image\ImageInterface</span> <strong><a href="yii-imagine-baseimage.html#autorotate()-detail">autorotate</a></strong> ( <span style="color: #0000BB">$image</span>, <span style="color: #0000BB">$color&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'000000'</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$image</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a>|<a href="https://www.php.net/language.types.resource">resource</a>|\Imagine\Image\ImageInterface</td>
                            <td class="param-desc-col">
                               <p>Either ImageInterface, resource or a string containing file path</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$color</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a></td>
                            <td class="param-desc-col">
                                                           </td>
                        </tr>
                    
                    
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseAutorotate" role="button"
           aria-expanded="false" aria-controls="collapseAutorotate">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseAutorotate">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">autorotate</span><span class="hljs-params">($image, $color = <span class="hljs-string">'000000'</span>)</span>
</span>{
    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">new</span> Autorotate($color))-&gt;apply(<span class="hljs-keyword">static</span>::ensureImageInterfaceInstance($image));
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="createImagine()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#createImagine()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L99" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L99" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                createImagine()

                <span class="detail-header-tag small">
                    protected                                        static                    method
                                    </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#createImagine()-detail">yii\imagine\BaseImage::createImagine()</a>                    </p>
                
                <p><strong>Creates an <code>Imagine</code> object based on the specified <a href="yii-imagine-baseimage.html#$driver-detail">$driver</a>.</strong></p>
                                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">protected static</span> <span class="signature-type">\Imagine\Image\ImagineInterface</span> <strong><a href="yii-imagine-baseimage.html#createImagine()-detail">createImagine</a></strong> ( )</td></tr>

                                    
                                            <tr>
                            <th class="param-name-col">return</th>
                            <td class="param-type-col">\Imagine\Image\ImagineInterface</td>
                            <td class="param-desc-col">
                                <p>The new <code>Imagine</code> object</p>
                            </td>
                        </tr>
                    
                                            <tr>
                            <th class="param-name-col">throws</th>
                            <td class="param-type-col"><a href="yii-base-invalidconfigexception.html">yii\base\InvalidConfigException</a></td>
                            <td class="param-desc-col">
                                <p>if <a href="yii-imagine-baseimage.html#$driver-detail">$driver</a> is unknown or the system doesn't support any <a href="yii-imagine-baseimage.html#$driver-detail">$driver</a>.</p>
                            </td>
                        </tr>
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseCreateImagine" role="button"
           aria-expanded="false" aria-controls="collapseCreateImagine">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseCreateImagine">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createImagine</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">foreach</span> ((<span class="hljs-keyword">array</span>) <span class="hljs-keyword">static</span>::$driver <span class="hljs-keyword">as</span> $driver) {
        <span class="hljs-keyword">switch</span> ($driver) {
            <span class="hljs-keyword">case</span> <span class="hljs-keyword">self</span>::DRIVER_GMAGICK:
                <span class="hljs-keyword">if</span> (class_exists(<span class="hljs-string">'Gmagick'</span>, <span class="hljs-keyword">false</span>)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> \Imagine\Gmagick\Imagine();
                }
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-keyword">self</span>::DRIVER_IMAGICK:
                <span class="hljs-keyword">if</span> (class_exists(<span class="hljs-string">'Imagick'</span>, <span class="hljs-keyword">false</span>)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> \Imagine\Imagick\Imagine();
                }
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-keyword">self</span>::DRIVER_GD2:
                <span class="hljs-keyword">if</span> (function_exists(<span class="hljs-string">'gd_info'</span>)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> \Imagine\Gd\Imagine();
                }
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidConfigException(<span class="hljs-string">"Unknown driver: $driver"</span>);
        }
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidConfigException(<span class="hljs-string">'Your system does not support any of these drivers: '</span> . implode(<span class="hljs-string">','</span>, (<span class="hljs-keyword">array</span>) <span class="hljs-keyword">static</span>::$driver));
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="crop()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#crop()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L169" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L169" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                crop()

                <span class="detail-header-tag small">
                    public                                        static                    method
                                    </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#crop()-detail">yii\imagine\BaseImage::crop()</a>                    </p>
                
                <p><strong>Crops an image.</strong></p>
                <p>For example:</p>
<pre><code class="hljs php language-php">$obj-&gt;crop(<span class="hljs-string">'path\to\image.jpg'</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>, [<span class="hljs-number">5</span>, <span class="hljs-number">5</span>]);

$point = <span class="hljs-keyword">new</span> \Imagine\Image\Point(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>);
$obj-&gt;crop(<span class="hljs-string">'path\to\image.jpg'</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>, $point);
</code></pre>
                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">\Imagine\Image\ImageInterface</span> <strong><a href="yii-imagine-baseimage.html#crop()-detail">crop</a></strong> ( <span style="color: #0000BB">$image</span>, <span style="color: #0000BB">$width</span>, <span style="color: #0000BB">$height</span>, <span class="signature-type"><a href="https://www.php.net/language.types.array">array</a></span> <span style="color: #0000BB">$start&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">]</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$image</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a>|<a href="https://www.php.net/language.types.resource">resource</a>|\Imagine\Image\ImageInterface</td>
                            <td class="param-desc-col">
                               <p>Either ImageInterface, resource or a string containing file path</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$width</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>The crop width</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$height</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>The crop height</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$start</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.array">array</a></td>
                            <td class="param-desc-col">
                               <p>The starting point. This must be an array with two elements representing <code>x</code> and <code>y</code> coordinates.</p>
                            </td>
                        </tr>
                    
                    
                                            <tr>
                            <th class="param-name-col">throws</th>
                            <td class="param-type-col"><a href="yii-base-invalidparamexception.html">yii\base\InvalidParamException</a></td>
                            <td class="param-desc-col">
                                <p>if the <code>$start</code> parameter is invalid</p>
                            </td>
                        </tr>
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseCrop" role="button"
           aria-expanded="false" aria-controls="collapseCrop">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseCrop">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">crop</span><span class="hljs-params">($image, $width, $height, array $start = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>])</span>
</span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">isset</span>($start[<span class="hljs-number">0</span>], $start[<span class="hljs-number">1</span>])) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidParamException(<span class="hljs-string">'$start must be an array of two elements.'</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span>::ensureImageInterfaceInstance($image)
        -&gt;copy()
        -&gt;crop(<span class="hljs-keyword">new</span> Point($start[<span class="hljs-number">0</span>], $start[<span class="hljs-number">1</span>]), <span class="hljs-keyword">new</span> Box($width, $height));
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="ensureImageInterfaceInstance()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#ensureImageInterfaceInstance()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L133" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L133" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                ensureImageInterfaceInstance()

                <span class="detail-header-tag small">
                    protected                                        static                    method
                    (available since version 2.1.0)                </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#ensureImageInterfaceInstance()-detail">yii\imagine\BaseImage::ensureImageInterfaceInstance()</a>                    </p>
                
                <p><strong>Takes either file path or ImageInterface. In case of file path, creates an instance of ImageInterface from it.</strong></p>
                                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">protected static</span> <span class="signature-type">\Imagine\Image\ImageInterface</span> <strong><a href="yii-imagine-baseimage.html#ensureImageInterfaceInstance()-detail">ensureImageInterfaceInstance</a></strong> ( <span style="color: #0000BB">$image</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$image</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a>|<a href="https://www.php.net/language.types.resource">resource</a>|\Imagine\Image\ImageInterface</td>
                            <td class="param-desc-col">
                                                           </td>
                        </tr>
                    
                    
                                            <tr>
                            <th class="param-name-col">throws</th>
                            <td class="param-type-col"><a href="yii-base-invalidparamexception.html">yii\base\InvalidParamException</a></td>
                            <td class="param-desc-col">
                                                            </td>
                        </tr>
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseEnsureImageInterfaceInstance" role="button"
           aria-expanded="false" aria-controls="collapseEnsureImageInterfaceInstance">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseEnsureImageInterfaceInstance">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ensureImageInterfaceInstance</span><span class="hljs-params">($image)</span>
</span>{
    <span class="hljs-keyword">if</span> ($image <span class="hljs-keyword">instanceof</span> ImageInterface) {
        <span class="hljs-keyword">return</span> $image;
    }
    <span class="hljs-keyword">if</span> (is_resource($image)) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span>::getImagine()-&gt;read($image);
    }
    <span class="hljs-keyword">if</span> (is_string($image)) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span>::getImagine()-&gt;open(Yii::getAlias($image));
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidParamException(<span class="hljs-string">'File should be either ImageInterface, resource or a string containing file path.'</span>);
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="frame()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#frame()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L362" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L362" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                frame()

                <span class="detail-header-tag small">
                    public                                        static                    method
                                    </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#frame()-detail">yii\imagine\BaseImage::frame()</a>                    </p>
                
                <p><strong>Adds a frame around of the image. Please note that the image size will increase by <code>$margin</code> x 2.</strong></p>
                                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">\Imagine\Image\ImageInterface</span> <strong><a href="yii-imagine-baseimage.html#frame()-detail">frame</a></strong> ( <span style="color: #0000BB">$image</span>, <span style="color: #0000BB">$margin&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">20</span>, <span style="color: #0000BB">$color&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'666'</span>, <span style="color: #0000BB">$alpha&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">100</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$image</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a>|<a href="https://www.php.net/language.types.resource">resource</a>|\Imagine\Image\ImageInterface</td>
                            <td class="param-desc-col">
                               <p>Either ImageInterface, resource or a string containing file path</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$margin</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>The frame size to add around the image</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$color</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a></td>
                            <td class="param-desc-col">
                               <p>The frame color</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$alpha</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>The alpha value of the frame.</p>
                            </td>
                        </tr>
                    
                    
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseFrame" role="button"
           aria-expanded="false" aria-controls="collapseFrame">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseFrame">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">frame</span><span class="hljs-params">($image, $margin = <span class="hljs-number">20</span>, $color = <span class="hljs-string">'666'</span>, $alpha = <span class="hljs-number">100</span>)</span>
</span>{
    $img = <span class="hljs-keyword">self</span>::ensureImageInterfaceInstance($image);
    $size = $img-&gt;getSize();
    $pasteTo = <span class="hljs-keyword">new</span> Point($margin, $margin);
    $palette = <span class="hljs-keyword">new</span> RGB();
    $color = $palette-&gt;color($color, $alpha);
    $box = <span class="hljs-keyword">new</span> Box($size-&gt;getWidth() + ceil($margin * <span class="hljs-number">2</span>), $size-&gt;getHeight() + ceil($margin * <span class="hljs-number">2</span>));
    $finalImage = <span class="hljs-keyword">static</span>::getImagine()-&gt;create($box, $color);
    $finalImage-&gt;paste($img, $pasteTo);
    <span class="hljs-keyword">return</span> $finalImage;
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="getBox()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#getBox()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L420" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L420" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                getBox()

                <span class="detail-header-tag small">
                    public                                        static                    method
                    (available since version 2.1.1)                </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#getBox()-detail">yii\imagine\BaseImage::getBox()</a>                    </p>
                
                <p><strong>Returns box for an image to be created.</strong></p>
                <p>If one of the dimensions is set to <code>null</code>, another one is calculated automatically based on width to height ratio
of original image box.</p>
<p>If both of the dimensions are set then new dimensions are calculated so that image keeps aspect ratio.</p>
<p>You can set $keepAspectRatio to false if you want to force fixed width and height.</p>
                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">\Imagine\Image\BoxInterface</span> <strong><a href="yii-imagine-baseimage.html#getBox()-detail">getBox</a></strong> ( <span class="signature-type">\Imagine\Image\BoxInterface</span> <span style="color: #0000BB">$sourceBox</span>, <span style="color: #0000BB">$width</span>, <span style="color: #0000BB">$height</span>, <span style="color: #0000BB">$keepAspectRatio&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$sourceBox</span></td>
                            <td class="param-type-col">\Imagine\Image\BoxInterface</td>
                            <td class="param-desc-col">
                               <p>Original image box</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$width</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>New image width</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$height</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>New image height</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$keepAspectRatio</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.boolean">boolean</a></td>
                            <td class="param-desc-col">
                               <p>Should we keep aspect ratio even if both with and height are set</p>
                            </td>
                        </tr>
                    
                                            <tr>
                            <th class="param-name-col">return</th>
                            <td class="param-type-col">\Imagine\Image\BoxInterface</td>
                            <td class="param-desc-col">
                                <p>New image box</p>
                            </td>
                        </tr>
                    
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseGetBox" role="button"
           aria-expanded="false" aria-controls="collapseGetBox">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseGetBox">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBox</span><span class="hljs-params">(BoxInterface $sourceBox, $width, $height, $keepAspectRatio = true)</span>
</span>{
    <span class="hljs-keyword">if</span> ($width === <span class="hljs-keyword">null</span> &amp;&amp; $height === <span class="hljs-keyword">null</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidParamException(<span class="hljs-string">'Width and height cannot be null at same time.'</span>);
    }
    $ratio = $sourceBox-&gt;getWidth() / $sourceBox-&gt;getHeight();
    <span class="hljs-keyword">if</span> ($keepAspectRatio === <span class="hljs-keyword">false</span>) {
        <span class="hljs-keyword">if</span> ($height === <span class="hljs-keyword">null</span>) {
            $height = ceil($width / $ratio);
        } <span class="hljs-keyword">elseif</span> ($width === <span class="hljs-keyword">null</span>) {
            $width = ceil($height * $ratio);
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> ($height === <span class="hljs-keyword">null</span>) {
            $height = ceil($width / $ratio);
        } <span class="hljs-keyword">elseif</span> ($width === <span class="hljs-keyword">null</span>) {
            $width = ceil($height * $ratio);
        } <span class="hljs-keyword">elseif</span> ($width / $height &gt; $ratio) {
            $width = $height * $ratio;
        } <span class="hljs-keyword">else</span> {
            $height = $width / $ratio;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Box($width, $height);
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="getImagine()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#getImagine()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L77" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L77" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                getImagine()

                <span class="detail-header-tag small">
                    public                                        static                    method
                                    </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#getImagine()-detail">yii\imagine\BaseImage::getImagine()</a>                    </p>
                
                <p><strong>Returns the <code>Imagine</code> object that supports various image manipulations.</strong></p>
                                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">\Imagine\Image\ImagineInterface</span> <strong><a href="yii-imagine-baseimage.html#getImagine()-detail">getImagine</a></strong> ( )</td></tr>

                                    
                                            <tr>
                            <th class="param-name-col">return</th>
                            <td class="param-type-col">\Imagine\Image\ImagineInterface</td>
                            <td class="param-desc-col">
                                <p>The <code>Imagine</code> object</p>
                            </td>
                        </tr>
                    
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseGetImagine" role="button"
           aria-expanded="false" aria-controls="collapseGetImagine">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseGetImagine">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getImagine</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">self</span>::$_imagine === <span class="hljs-keyword">null</span>) {
        <span class="hljs-keyword">self</span>::$_imagine = <span class="hljs-keyword">static</span>::createImagine();
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>::$_imagine;
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="getThumbnailBox()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#getThumbnailBox()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L393" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L393" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                getThumbnailBox()

                <span class="detail-header-tag small">
                    public                                        static                    method
                    (available since version 2.0.4)                </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#getThumbnailBox()-detail">yii\imagine\BaseImage::getThumbnailBox()</a>                    </p>
                
                <p><strong>Returns box for a thumbnail to be created. If one of the dimensions is set to <code>null</code>, another one is calculated
automatically based on width to height ratio of original image box.</strong></p>
                                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">\Imagine\Image\BoxInterface</span> <strong><a href="yii-imagine-baseimage.html#getThumbnailBox()-detail">getThumbnailBox</a></strong> ( <span class="signature-type">\Imagine\Image\BoxInterface</span> <span style="color: #0000BB">$sourceBox</span>, <span style="color: #0000BB">$width</span>, <span style="color: #0000BB">$height</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$sourceBox</span></td>
                            <td class="param-type-col">\Imagine\Image\BoxInterface</td>
                            <td class="param-desc-col">
                               <p>Original image box</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$width</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>Thumbnail width</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$height</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>Thumbnail height</p>
                            </td>
                        </tr>
                    
                                            <tr>
                            <th class="param-name-col">return</th>
                            <td class="param-type-col">\Imagine\Image\BoxInterface</td>
                            <td class="param-desc-col">
                                <p>Thumbnail box</p>
                            </td>
                        </tr>
                    
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseGetThumbnailBox" role="button"
           aria-expanded="false" aria-controls="collapseGetThumbnailBox">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseGetThumbnailBox">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getThumbnailBox</span><span class="hljs-params">(BoxInterface $sourceBox, $width, $height)</span>
</span>{
    <span class="hljs-keyword">if</span> ($width !== <span class="hljs-keyword">null</span> &amp;&amp; $height !== <span class="hljs-keyword">null</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Box($width, $height);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>::getBox($sourceBox, $width, $height, <span class="hljs-keyword">false</span>);
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="isUpscaling()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#isUpscaling()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L455" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L455" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                isUpscaling()

                <span class="detail-header-tag small">
                    public                                        static                    method
                                    </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#isUpscaling()-detail">yii\imagine\BaseImage::isUpscaling()</a>                    </p>
                
                <p><strong>Checks if upscaling is going to happen</strong></p>
                                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type"><a href="https://www.php.net/language.types.boolean">boolean</a></span> <strong><a href="yii-imagine-baseimage.html#isUpscaling()-detail">isUpscaling</a></strong> ( <span class="signature-type">\Imagine\Image\BoxInterface</span> <span style="color: #0000BB">$sourceBox</span>, <span class="signature-type">\Imagine\Image\BoxInterface</span> <span style="color: #0000BB">$destinationBox</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$sourceBox</span></td>
                            <td class="param-type-col">\Imagine\Image\BoxInterface</td>
                            <td class="param-desc-col">
                                                           </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$destinationBox</span></td>
                            <td class="param-type-col">\Imagine\Image\BoxInterface</td>
                            <td class="param-desc-col">
                                                           </td>
                        </tr>
                    
                    
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseIsUpscaling" role="button"
           aria-expanded="false" aria-controls="collapseIsUpscaling">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseIsUpscaling">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isUpscaling</span><span class="hljs-params">(BoxInterface $sourceBox, BoxInterface $destinationBox)</span>
</span>{
    <span class="hljs-keyword">return</span> ($sourceBox-&gt;getWidth() &lt;= $destinationBox-&gt;getWidth() &amp;&amp; $sourceBox-&gt;getHeight() &lt;= $destinationBox-&gt;getHeight()) || (!$destinationBox-&gt;getWidth() &amp;&amp; !$destinationBox-&gt;getHeight());
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="resize()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#resize()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L282" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L282" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                resize()

                <span class="detail-header-tag small">
                    public                                        static                    method
                    (available since version 2.1.1)                </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#resize()-detail">yii\imagine\BaseImage::resize()</a>                    </p>
                
                <p><strong>Resizes an image.</strong></p>
                <p>If one of the dimensions is set to <code>null</code>, another one is calculated automatically based on aspect ratio of
original image.</p>
<p>If both of the dimensions are set then new dimensions are calculated so that image keeps aspect ratio.</p>
<p>You can set $keepAspectRatio to false if you want to force fixed width and height.</p>
                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">\Imagine\Image\ImageInterface</span> <strong><a href="yii-imagine-baseimage.html#resize()-detail">resize</a></strong> ( <span style="color: #0000BB">$image</span>, <span style="color: #0000BB">$width</span>, <span style="color: #0000BB">$height</span>, <span style="color: #0000BB">$keepAspectRatio&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span>, <span style="color: #0000BB">$allowUpscaling&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">false</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$image</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a>|<a href="https://www.php.net/language.types.resource">resource</a>|\Imagine\Image\ImageInterface</td>
                            <td class="param-desc-col">
                               <p>Either ImageInterface, resource or a string containing file path</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$width</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>The width in pixels</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$height</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>The height in pixels</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$keepAspectRatio</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.boolean">boolean</a></td>
                            <td class="param-desc-col">
                               <p>Should the image keep aspect ratio</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$allowUpscaling</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.boolean">boolean</a></td>
                            <td class="param-desc-col">
                               <p>Should the image be upscaled if needed</p>
                            </td>
                        </tr>
                    
                    
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseResize" role="button"
           aria-expanded="false" aria-controls="collapseResize">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseResize">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resize</span><span class="hljs-params">($image, $width, $height, $keepAspectRatio = true, $allowUpscaling = false)</span>
</span>{
    $img = <span class="hljs-keyword">self</span>::ensureImageInterfaceInstance($image)-&gt;copy();
    <span class="hljs-comment">/** <span class="hljs-doctag">@var</span> BoxInterface $sourceBox */</span>
    $sourceBox = $img-&gt;getSize();
    $destinationBox = <span class="hljs-keyword">static</span>::getBox($sourceBox, $width, $height, $keepAspectRatio);
    <span class="hljs-keyword">if</span> ($allowUpscaling === <span class="hljs-keyword">false</span> &amp;&amp; <span class="hljs-keyword">self</span>::isUpscaling($sourceBox, $destinationBox)) {
        <span class="hljs-keyword">return</span> $img;
    }
    <span class="hljs-keyword">return</span> $img-&gt;resize($destinationBox);
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="setImagine()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#setImagine()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L89" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L89" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                setImagine()

                <span class="detail-header-tag small">
                    public                                        static                    method
                                    </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#setImagine()-detail">yii\imagine\BaseImage::setImagine()</a>                    </p>
                
                <p><strong></strong></p>
                                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">void</span> <strong><a href="yii-imagine-baseimage.html#setImagine()-detail">setImagine</a></strong> ( <span style="color: #0000BB">$imagine</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$imagine</span></td>
                            <td class="param-type-col">\Imagine\Image\ImagineInterface</td>
                            <td class="param-desc-col">
                               <p>The <code>Imagine</code> object.</p>
                            </td>
                        </tr>
                    
                    
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseSetImagine" role="button"
           aria-expanded="false" aria-controls="collapseSetImagine">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseSetImagine">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setImagine</span><span class="hljs-params">($imagine)</span>
</span>{
    <span class="hljs-keyword">self</span>::$_imagine = $imagine;
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="text()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#text()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L333" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L333" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                text()

                <span class="detail-header-tag small">
                    public                                        static                    method
                                    </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#text()-detail">yii\imagine\BaseImage::text()</a>                    </p>
                
                <p><strong>Draws a text string on an existing image.</strong></p>
                                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">\Imagine\Image\ImageInterface</span> <strong><a href="yii-imagine-baseimage.html#text()-detail">text</a></strong> ( <span style="color: #0000BB">$image</span>, <span style="color: #0000BB">$text</span>, <span style="color: #0000BB">$fontFile</span>, <span class="signature-type"><a href="https://www.php.net/language.types.array">array</a></span> <span style="color: #0000BB">$start&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">]</span>, <span class="signature-type"><a href="https://www.php.net/language.types.array">array</a></span> <span style="color: #0000BB">$fontOptions&nbsp;</span><span style="color: #007700">=&nbsp;[]</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$image</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a>|<a href="https://www.php.net/language.types.resource">resource</a>|\Imagine\Image\ImageInterface</td>
                            <td class="param-desc-col">
                               <p>Either ImageInterface, resource or a string containing file path</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$text</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a></td>
                            <td class="param-desc-col">
                               <p>The text to write to the image</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$fontFile</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a></td>
                            <td class="param-desc-col">
                               <p>The file path or path alias</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$start</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.array">array</a></td>
                            <td class="param-desc-col">
                               <p>The starting position of the text. This must be an array with two elements representing <code>x</code> and <code>y</code> coordinates.</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$fontOptions</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.array">array</a></td>
                            <td class="param-desc-col">
                               <p>The font options. The following options may be specified:</p>
<ul>
<li>color: The font color. Defaults to "fff".</li>
<li>size: The font size. Defaults to 12.</li>
<li>angle: The angle to use to write the text. Defaults to 0.</li>
</ul>
                            </td>
                        </tr>
                    
                    
                                            <tr>
                            <th class="param-name-col">throws</th>
                            <td class="param-type-col"><a href="yii-base-invalidparamexception.html">yii\base\InvalidParamException</a></td>
                            <td class="param-desc-col">
                                <p>if <code>$fontOptions</code> is invalid</p>
                            </td>
                        </tr>
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseText" role="button"
           aria-expanded="false" aria-controls="collapseText">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseText">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">text</span><span class="hljs-params">($image, $text, $fontFile, array $start = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>], array $fontOptions = [])</span>
</span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">isset</span>($start[<span class="hljs-number">0</span>], $start[<span class="hljs-number">1</span>])) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidParamException(<span class="hljs-string">'$start must be an array of two elements.'</span>);
    }
    $fontSize = ArrayHelper::getValue($fontOptions, <span class="hljs-string">'size'</span>, <span class="hljs-number">12</span>);
    $fontColor = ArrayHelper::getValue($fontOptions, <span class="hljs-string">'color'</span>, <span class="hljs-string">'fff'</span>);
    $fontAngle = ArrayHelper::getValue($fontOptions, <span class="hljs-string">'angle'</span>, <span class="hljs-number">0</span>);
    $palette = <span class="hljs-keyword">new</span> RGB();
    $color = $palette-&gt;color($fontColor);
    $img = <span class="hljs-keyword">self</span>::ensureImageInterfaceInstance($image);
    $font = <span class="hljs-keyword">static</span>::getImagine()-&gt;font(Yii::getAlias($fontFile), $fontSize, $color);
    $img-&gt;draw()-&gt;text($text, $font, <span class="hljs-keyword">new</span> Point($start[<span class="hljs-number">0</span>], $start[<span class="hljs-number">1</span>]), $fontAngle);
    <span class="hljs-keyword">return</span> $img;
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="thumbnail()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#thumbnail()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L217" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L217" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                thumbnail()

                <span class="detail-header-tag small">
                    public                                        static                    method
                                    </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#thumbnail()-detail">yii\imagine\BaseImage::thumbnail()</a>                    </p>
                
                <p><strong>Creates a thumbnail image.</strong></p>
                <p>If one of thumbnail dimensions is set to <code>null</code>, another one is calculated automatically based on aspect ratio of
original image. Note that calculated thumbnail dimension may vary depending on the source image in this case.</p>
<p>If both dimensions are specified, resulting thumbnail would be exactly the width and height specified. How it's
achieved depends on the mode defined via settings parameter.</p>
<p>If <code>ImageInterface::THUMBNAIL_OUTBOUND</code> mode is used, which is default, then the thumbnail is scaled so that
its smallest side equals the length of the corresponding side in the original image. Any excess outside of
the scaled thumbnail’s area will be cropped, and the returned thumbnail will have the exact width and height
specified.</p>
<p>If thumbnail mode is <code>ImageInterface::THUMBNAIL_INSET</code>, the original image is scaled down so it is fully
contained within the thumbnail dimensions. The rest is filled with background that could be configured via
<a href="yii-imagine-baseimage.html#$thumbnailBackgroundColor-detail">yii\imagine\Image::$thumbnailBackgroundColor</a> and <a href="yii-imagine-baseimage.html#$thumbnailBackgroundAlpha-detail">yii\imagine\Image::$thumbnailBackgroundAlpha</a>.</p>
                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">\Imagine\Image\ImageInterface</span> <strong><a href="yii-imagine-baseimage.html#thumbnail()-detail">thumbnail</a></strong> ( <span style="color: #0000BB">$image</span>, <span style="color: #0000BB">$width</span>, <span style="color: #0000BB">$height</span>, <span style="color: #0000BB">$settings&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ManipulatorInterface</span><span style="color: #007700">::</span><span style="color: #0000BB">THUMBNAIL_OUTBOUND</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$image</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a>|<a href="https://www.php.net/language.types.resource">resource</a>|\Imagine\Image\ImageInterface</td>
                            <td class="param-desc-col">
                               <p>Either ImageInterface, resource or a string containing file path</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$width</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>The width in pixels to create the thumbnail</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$height</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>The height in pixels to create the thumbnail</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$settings</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.integer">integer</a></td>
                            <td class="param-desc-col">
                               <p>Settings for resizing original image, one or more of the ManipulatorInterface::THUMBNAIL_ flags (joined with |)</p>
                            </td>
                        </tr>
                    
                    
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseThumbnail" role="button"
           aria-expanded="false" aria-controls="collapseThumbnail">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseThumbnail">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">thumbnail</span><span class="hljs-params">($image, $width, $height, $settings = ManipulatorInterface::THUMBNAIL_OUTBOUND)</span>
</span>{
    $img = <span class="hljs-keyword">self</span>::ensureImageInterfaceInstance($image);
    <span class="hljs-comment">/** <span class="hljs-doctag">@var</span> BoxInterface $sourceBox */</span>
    $sourceBox = $img-&gt;getSize();
    $thumbnailBox = <span class="hljs-keyword">static</span>::getThumbnailBox($sourceBox, $width, $height);
    $allowUpscale = (bool) ($settings &amp; ImageInterface::THUMBNAIL_FLAG_UPSCALE);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">self</span>::isUpscaling($sourceBox, $thumbnailBox) &amp;&amp; !$allowUpscale) {
        <span class="hljs-keyword">return</span> $img-&gt;copy();
    }
    $img = $img-&gt;thumbnail($thumbnailBox, $settings);
    <span class="hljs-keyword">if</span> ($settings &amp; ImageInterface::THUMBNAIL_OUTBOUND) {
        <span class="hljs-keyword">return</span> $img;
    }
    $size = $img-&gt;getSize();
    <span class="hljs-keyword">if</span> ($size-&gt;getWidth() == $width &amp;&amp; $size-&gt;getHeight() == $height) {
        <span class="hljs-keyword">return</span> $img;
    }
    $palette = <span class="hljs-keyword">new</span> RGB();
    $color = $palette-&gt;color(<span class="hljs-keyword">static</span>::$thumbnailBackgroundColor, <span class="hljs-keyword">static</span>::$thumbnailBackgroundAlpha);
    <span class="hljs-comment">// create empty image to preserve aspect ratio of thumbnail</span>
    $thumb = <span class="hljs-keyword">static</span>::getImagine()-&gt;create($thumbnailBox, $color);
    <span class="hljs-comment">// calculate points</span>
    $startX = <span class="hljs-number">0</span>;
    $startY = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> ($size-&gt;getWidth() &lt; $width) {
        $startX = ceil(($width - $size-&gt;getWidth()) / <span class="hljs-number">2</span>);
    }
    <span class="hljs-keyword">if</span> ($size-&gt;getHeight() &lt; $height) {
        $startY = ceil(($height - $size-&gt;getHeight()) / <span class="hljs-number">2</span>);
    }
    $thumb-&gt;paste($img, <span class="hljs-keyword">new</span> Point($startX, $startY));
    <span class="hljs-keyword">return</span> $thumb;
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
            <div id="watermark()-detail"
             class="inherited">
            <div class="detail-header h3">
                <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <a class="tool-link hash" href="yii-imagine-image.html#watermark()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
                                    <a href="https://github.com/yiisoft/yii2-imagine/edit/master/BaseImage.php#L305" class="tool-link"
                       title="edit on github">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="https://github.com/yiisoft/yii2-imagine/blob/master/BaseImage.php#L305" class="tool-link" title="view source on github">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                
                watermark()

                <span class="detail-header-tag small">
                    public                                        static                    method
                                    </span>
            </div>

            
            <div class="doc-description">
                                    <p>
                        <strong>Defined in:</strong>
                        <a href="yii-imagine-baseimage.html#watermark()-detail">yii\imagine\BaseImage::watermark()</a>                    </p>
                
                <p><strong>Adds a watermark to an existing image.</strong></p>
                                            </div>

            <table class="detail-table table table-striped table-bordered table-hover">
                <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">\Imagine\Image\ImageInterface</span> <strong><a href="yii-imagine-baseimage.html#watermark()-detail">watermark</a></strong> ( <span style="color: #0000BB">$image</span>, <span style="color: #0000BB">$watermarkImage</span>, <span class="signature-type"><a href="https://www.php.net/language.types.array">array</a></span> <span style="color: #0000BB">$start&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">]</span> )</td></tr>

                                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$image</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a>|<a href="https://www.php.net/language.types.resource">resource</a>|\Imagine\Image\ImageInterface</td>
                            <td class="param-desc-col">
                               <p>Either ImageInterface, resource or a string containing file path</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$watermarkImage</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.string">string</a>|<a href="https://www.php.net/language.types.resource">resource</a>|\Imagine\Image\ImageInterface</td>
                            <td class="param-desc-col">
                               <p>Either ImageInterface, resource or a string containing watermark file path</p>
                            </td>
                        </tr>
                                            <tr>
                            <td class="param-name-col"><span style="color: #0000BB">$start</span></td>
                            <td class="param-type-col"><a href="https://www.php.net/language.types.array">array</a></td>
                            <td class="param-desc-col">
                               <p>The starting point. This must be an array with two elements representing <code>x</code> and <code>y</code> coordinates.</p>
                            </td>
                        </tr>
                    
                    
                                            <tr>
                            <th class="param-name-col">throws</th>
                            <td class="param-type-col"><a href="yii-base-invalidparamexception.html">yii\base\InvalidParamException</a></td>
                            <td class="param-desc-col">
                                <p>if <code>$start</code> is invalid</p>
                            </td>
                        </tr>
                                                </table>

            
            

    <p>
        <a class="btn btn-link" data-toggle="collapse" data-target="#collapseWatermark" role="button"
           aria-expanded="false" aria-controls="collapseWatermark">
            Source code
        </a>
    </p>
    <div class="collapse" id="collapseWatermark">
        <div class="card card-body">
            <pre>
                <code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">watermark</span><span class="hljs-params">($image, $watermarkImage, array $start = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>])</span>
</span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">isset</span>($start[<span class="hljs-number">0</span>], $start[<span class="hljs-number">1</span>])) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidParamException(<span class="hljs-string">'$start must be an array of two elements.'</span>);
    }
    $img = <span class="hljs-keyword">self</span>::ensureImageInterfaceInstance($image);
    $watermark = <span class="hljs-keyword">self</span>::ensureImageInterfaceInstance($watermarkImage);
    $img-&gt;paste($watermark, <span class="hljs-keyword">new</span> Point($start[<span class="hljs-number">0</span>], $start[<span class="hljs-number">1</span>]));
    <span class="hljs-keyword">return</span> $img;
}
</code>
            </pre>
        </div>
    </div>
            
        </div>
    </div>
    </div>
</div>

<script type="text/javascript">
    /*<![CDATA[*/
    $('a.toggle').on('click', function () {
        var $this = $(this);
        if ($this.hasClass('properties-hidden')) {
            $this.text($this.text().replace(/Show/,'Hide'));
            $this.parents('.toggle-target-container').find('.inherited').show();
            $this.removeClass('properties-hidden');
        } else {
            $this.text($this.text().replace(/Hide/,'Show'));
            $this.parents('.toggle-target-container').find('.inherited').hide();
            $this.addClass('properties-hidden');
        }

        return false;
    });
    /*]]>*/
</script>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Mon, 25 Mar 2024 04:16:44 +0000</small></p>
    Powered by <a href="https://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script>jQuery(function ($) {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
